<!doctype html>
<html lang="es"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Profesor — PEVE</title>
<link rel="stylesheet" href="../assets/style.css">
<script defer src="../assets/app.js"></script>
<script>
window.addEventListener('DOMContentLoaded', async()=>{
  const u = getSession(); if(!u || u.role!=='teacher') return location.href='login.html';
  $('#who').textContent = u.name;
  const course = await fetch('../data/courses.json').then(r=>r.json()).then(j=>j["Biología 1M"]);
  const oaList = $('#oa');
  course.oas.forEach(oa=>{ const li = document.createElement('li'); li.textContent = oa.code+" — "+oa.name; oaList.appendChild(li); });
});
</script>
<script defer src="../assets/api.js"></script>
</head>
<body>

<header class="header">
  <div class="logo">
    <span class="badge">PEVE</span>
    <span class="title">Plataforma Exámenes de Validación de Estudios</span>
  </div>
  <div class="row">
    <button class="toggle" data-action="fs-dec">A−</button>
    <button class="toggle" data-action="fs-inc">A+</button>
    <button class="toggle" data-action="contrast">🌓 Alto contraste</button>
  </div>
</header>

<main>
  <div class="row" style="justify-content:space-between;align-items:center">
    <h2>👩‍🏫 Panel Docente — <span id="who"></span></h2>
    <button class="toggle" data-action="logout">Cerrar sesión</button>
  </div>
  <div class="grid">
    <div class="card">
      <h3>OA Biología 1M</h3>
      <ul id="oa"></ul>
      <div class="row">
        <a class="btn" href="../pages/quiz_bio1m.html">🧪 Gestionar Quiz</a>
        <a class="btn" href="../pages/ticket_bio1m.html">🎟️ Ticket de salida</a>
      </div>
    </div>
    <div class="card">
      <h3>Dashboard (demo)</h3>
      <p>Vista rápida de avance (simulada):</p>
      <table class="table">
        <tr><th>Estudiante</th><th>Quiz OA2</th><th>Quiz OA4</th><th>Quiz OA6</th><th>Quiz OA8</th></tr>
        <tr><td>Estudiante Demo</td><td>85%</td><td>70%</td><td>90%</td><td>80%</td></tr>
      </table>
      <small>Conectar a Google Sheets o una API para datos reales.</small>
    </div>
  </div>
</main>

<footer class="footer">
  <div>Proyecto Exámenes Libres — Pancho & Belén</div>
  <div>belen.acpe@gmail.com · 📞 +56 9 6266 4960</div>
  <div>👨‍💻 Francisco Pinto — 📧 franciscoandresp@gmail.com · 📞 +56 9 2002 7992</div>
  <div>Hecho con ❤️ para el Liceo Bicentenario de Excelencia Polivalente San Nicolás</div>
</footer>

</body></html>
